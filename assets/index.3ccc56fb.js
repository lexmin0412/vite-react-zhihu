var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(t,n,l)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[n]=l,s=(e,s)=>{for(var a in s||(s={}))t.call(s,a)&&c(e,a,s[a]);if(n)for(var a of n(s))l.call(s,a)&&c(e,a,s[a]);return e};import{r as a,u as i,L as r,R as o,a as m,b as d,d as u,B as h,c as v}from"./vendor.c2b43c3a.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const l=new URL(e,location),c=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,s)=>{const a=new URL(e,l);if(self[t].moduleMap[a])return n(self[t].moduleMap[a]);const i=new Blob([`import * as m from '${a}';`,`${t}.moduleMap['${a}']=m;`],{type:"text/javascript"}),r=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){s(new Error(`Failed to import: ${e}`)),c(r)},onload(){n(self[t].moduleMap[a]),c(r)}});document.head.appendChild(r)})),self[t].moduleMap={}}}("/assets/");var p={tabbarComp:"_tabbar-comp_lb4ez_1",tabbarItem:"_tabbar-item_lb4ez_13",current:"_current_lb4ez_29",title:"_title_lb4ez_34"};const E=[{titleZh:"知乎蓝",hex:"#06f"},{titleZh:"掘金蓝",hex:"#007fff"},{titleZh:"美团黄",hex:"#FFC300"},{titleZh:"网易红",hex:"#C20C0E"},{titleZh:"京东到家绿",hex:"#25c156"},{titleZh:"微信绿",hex:"#0FBE5D"},{titleZh:"思否绿",hex:"#009a61"}],g=a.createContext({value:E[0],setTheme:e=>{}}),_=g.Provider;g.Consumer;var f=e=>{const{value:{hex:t}}=a.useContext(g),n="#666",l=26;return{Home:()=>a.createElement("svg",{t:"1617749417885",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4271",width:l,height:l},a.createElement("path",{d:"M919.2 419.2L531.2 141.6c-11.2-8-26.4-8-36.8 0L104 419.2c-12.8 8.8-6.4 28.8 9.6 28.8H192v432c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16V640h192v240c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16V448h78.4c15.2 0 21.6-20 8.8-28.8z","p-id":"4272",fill:n})),HomeSelected:()=>a.createElement("svg",{t:"1617749417885",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4271",width:l,height:l},a.createElement("path",{d:"M919.2 419.2L531.2 141.6c-11.2-8-26.4-8-36.8 0L104 419.2c-12.8 8.8-6.4 28.8 9.6 28.8H192v432c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16V640h192v240c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16V448h78.4c15.2 0 21.6-20 8.8-28.8z","p-id":"4272",fill:t})),Msg:()=>a.createElement("svg",{t:"1617749285791",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3969",width:l,height:l},a.createElement("path",{d:"M510.4 63.2c-212 0-384 172-384 384 0 184.8 131.2 340 305.6 376l80 138.4 80-138.4C764.8 785.6 894.4 632 894.4 448c0-212.8-172-384.8-384-384.8zM319.2 512c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64zM512 512c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m191.2 0c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z","p-id":"3970",fill:n})),MsgSelected:()=>a.createElement("svg",{t:"1617749285791",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3969",width:l,height:l},a.createElement("path",{d:"M510.4 63.2c-212 0-384 172-384 384 0 184.8 131.2 340 305.6 376l80 138.4 80-138.4C764.8 785.6 894.4 632 894.4 448c0-212.8-172-384.8-384-384.8zM319.2 512c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64zM512 512c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m191.2 0c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z","p-id":"3970",fill:t})),User:()=>a.createElement("svg",{t:"1617749352954",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4138",width:l,height:l},a.createElement("path",{d:"M500 128.8c-95.2 5.6-173.6 83.2-180 178.4-7.2 112 80.8 205.6 191.2 205.6 106.4 0 192-86.4 192-192 0.8-110.4-92-198.4-203.2-192zM512 575.2c-128 0-383.2 64-383.2 192v96c0 17.6 14.4 32 32 32h702.4c17.6 0 32-14.4 32-32V766.4c0-127.2-255.2-191.2-383.2-191.2z","p-id":"4139",fill:n})),UserSelected:()=>a.createElement("svg",{t:"1617749352954",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4138",width:l,height:l},a.createElement("path",{d:"M500 128.8c-95.2 5.6-173.6 83.2-180 178.4-7.2 112 80.8 205.6 191.2 205.6 106.4 0 192-86.4 192-192 0.8-110.4-92-198.4-203.2-192zM512 575.2c-128 0-383.2 64-383.2 192v96c0 17.6 14.4 32 32 32h702.4c17.6 0 32-14.4 32-32V766.4c0-127.2-255.2-191.2-383.2-191.2z","p-id":"4139",fill:t}))}[e.name]()};const w=[{url:"/home/index",title:"首页",icon:()=>a.createElement(f,{name:"Home"}),selectedIcon:()=>a.createElement(f,{name:"HomeSelected"})},{url:"/msg/index",title:"消息",icon:()=>a.createElement(f,{name:"Msg"}),selectedIcon:()=>a.createElement(f,{name:"MsgSelected"})},{url:"/user/index",title:"我的",icon:()=>a.createElement(f,{name:"User"}),selectedIcon:()=>a.createElement(f,{name:"UserSelected"})}];function N(){const e=i();return a.createElement("div",{className:p.tabbarComp},w.map((t=>{const n=e.pathname===t.url;return a.createElement(r,{className:`${p.tabbarItem} ${n?p.current:""}`,to:t.url,key:t.url,replace:!0},a.createElement("div",{className:p.icon},n?t.selectedIcon():t.icon()),a.createElement("div",{className:p.title},t.title))})))}var b=new class{getRecommendList(){return(e=>{const{url:t,method:n,body:l}=e;return new Promise(((e,c)=>{fetch(t,{method:n,body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){"10000"!==t.code?(console.log("fetch err",t),c(t)):e(t.data)})).catch((e=>{console.log("fetch err",e),c(e)}))}))})({url:"https://www.fastmock.site/mock/17ad4659e546df135e2027055aba5443/zhihu/home/getRecommendList",method:"post",body:{theme:"#ffe400"}})}};var x={listTitle:"_list-title_11nvq_1",listTitleText:"_list-title-text_11nvq_18",listContainer:"_list-container_11nvq_34",listItem:"_list-item_11nvq_41",itemTop:"_item-top_11nvq_47",itemHeadImg:"_item-head-img_11nvq_52",itemUserInfo:"_item-user-info_11nvq_58",itemUserName:"_item-user-name_11nvq_62",itemUpdateTime:"_item-update-time_11nvq_66",title:"_title_11nvq_71",content:"_content_11nvq_78",desc:"_desc_11nvq_85",mainPic:"_main-pic_11nvq_89",flex:"_flex_11nvq_96",fill:"_fill_11nvq_102"};const y=e=>{const[t,n]=a.useState([]),[l,c]=a.useState(!1),s=()=>{e().then((e=>{console.log("请求结果",e),console.log("新列表",t.concat(e));const l=t.concat(e);n(l),c(!0)}))};return a.useEffect((()=>{console.log("useEffect"),s()}),[]),window.onscroll=function(){var e,t,n,l;n=0,l=0,document.body&&(n=document.body.scrollTop),document.documentElement&&(l=document.documentElement.scrollTop),(n-l>0?n:l)+("CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)==(e=0,t=0,document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t)&&(document.getElementById("more"),console.log("触底"),s())},[t,l]},C=e=>{a.useEffect((()=>{const{title:t}=e;document.title=t}),[])};function M(){const[e,t]=y(b.getRecommendList),{value:n}=a.useContext(g);return C({title:"首页"}),a.createElement("div",{className:x.homeIndexPage},a.createElement("div",{className:x.listContainer},a.createElement("div",{className:x.listTitle},a.createElement("div",{className:x.listTitleText},"推荐")),t?a.createElement(a.Fragment,null,e.map(((e,t)=>a.createElement("div",{className:x.listItem,key:`${e.id}${t}`},a.createElement("div",{className:x.itemTop},a.createElement("img",{className:x.itemHeadImg,src:e.headimg}),a.createElement("div",{className:x.itemUserInfo},a.createElement("div",{className:x.itemUserName},e.user),a.createElement("div",{className:x.itemUpdateTime},e.timeStamp))),a.createElement("div",{className:x.itemMain},a.createElement("div",{className:x.title},e.title),a.createElement("div",{className:x.content},a.createElement("div",{className:x.desc},e.desc),a.createElement("img",{src:e.mainPic,alt:"",className:x.mainPic}))))))):a.createElement("div",{className:`${x.flex} ${x.fill}`},a.createElement(o,{type:"spokes",color:n.hex,height:40,width:40}))),a.createElement(N,null))}var S="_list-title_17b6f_1",F="_list-title-text_17b6f_18";function I(){return C({title:"消息"}),a.createElement("div",null,a.createElement("div",{className:S},a.createElement("div",{className:F},"消息")),a.createElement(N,null))}var z={userMain:"_user-main_1pt04_1",userInfo:"_user-info_1pt04_8",userName:"_user-name_1pt04_12",themeSetting:"_theme-setting_1pt04_19",themeSettingTitle:"_theme-setting-title_1pt04_23",currentTheme:"_current-theme_1pt04_31",themeList:"_theme-list_1pt04_36",themeSettingItem:"_theme-setting-item_1pt04_40",logout:"_logout_1pt04_47"},q=()=>a.createElement("svg",{t:"1617743948751",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2044",width:"16",height:"16"},a.createElement("path",{d:"M127.431111 455.111111a40.96 40.96 0 0 0 0 36.408889A427.235556 427.235556 0 0 0 493.226667 739.555556L158.72 404.48a444.302222 444.302222 0 0 0-31.288889 50.631111zM893.724444 449.422222C853.333333 384 732.728889 208.782222 512 208.782222a401.066667 401.066667 0 0 0-223.573333 66.56L207.644444 194.56 143.36 258.844444l74.524444 74.524445 100.693334 102.4 233.244444 231.537778 60.871111 61.44 101.262223 101.262222 64.284444-64.284445-72.248889-72.248888a455.111111 455.111111 0 0 0 189.44-193.422223 52.337778 52.337778 0 0 0-1.706667-50.631111zM638.293333 625.777778l-64.853333-65.422222a105.813333 105.813333 0 1 0-147.911111-147.911112L360.675556 347.591111A197.404444 197.404444 0 1 1 638.293333 625.777778z","p-id":"2045",fill:"#ffffff"}));const T=a.memo((e=>{const{children:t,onClose:n}=e,l=a.useRef(document.createElement("div"));return a.useEffect((()=>(l.current.classList.add("notify-portal-container"),document.documentElement.appendChild(l.current),()=>{document.documentElement.removeChild(l.current)})),[e.children]),m.createPortal(a.createElement(a.Fragment,null,a.createElement("div",{className:"notify-portal-content"},e.children),a.createElement("div",{className:"notify-portal-close",onClick:()=>{n&&n()}},a.createElement(q,null))),l.current)}));function L(){C({title:"我的"});const[e,t]=a.useState("火星用户"),{value:n,setTheme:l}=a.useContext(g);console.log("当前主题",n.titleZh);const{show:c,RenderNotification:s}=(()=>{const[e,t]=a.useState(!1),n=()=>t(!1);return{show:()=>t(!0),hide:n,RenderNotification:({children:t})=>e?a.createElement(T,{onClose:n},t):null}})(),i=d();a.useEffect((()=>{const e=localStorage.getItem("vite-react-zhihu-user-token");console.log("userToken",e),t(e),e||i.push("/login/index"),c()}),[]);const r=u().format("YYYY年MM月DD日");return a.createElement("div",{className:z.userIndexPage},a.createElement(s,null,a.createElement(a.Fragment,null,"今天是",r,", 祝大家牛年大吉啦")),a.createElement("div",{className:z.userMain},a.createElement("div",{className:z.userInfo},a.createElement("img",{className:z.userHeadImg}),a.createElement("div",{className:z.userInfoAbbr},a.createElement("div",{className:z.userName},e))),a.createElement("div",{className:z.themeSetting},a.createElement("div",{className:z.themeSettingTitle},"当前主题：",a.createElement("div",{className:z.currentTheme},n.titleZh)),a.createElement("div",{className:z.themeList},E.map((e=>a.createElement("div",{className:z.themeSettingItem,key:e.hex,style:{background:e.hex},onClick:()=>(e=>{l(e),console.log("切换主题",e)})(e)},e.titleZh))))),a.createElement("div",{className:z.logout,onClick:()=>{localStorage.removeItem("vite-react-zhihu-user-token"),i.push("/login/index")}},"退出登录")),a.createElement(N,null))}var k="_login-index-container_1vqee_1",U="_main_1vqee_5",P="_title_1vqee_9",R="_field-box_1vqee_16",B="_label_1vqee_22",H="_submit-btn_1vqee_42";const V=a.createContext(null),j=V.Provider;function O({children:e,form:t,onFinish:n,onFinishFailed:l}){return a.createElement("form",{onSubmit:e=>{e.preventDefault(),t.submit().then(n).catch(l)}},a.createElement(j,{value:t},e))}function Z(e){const{children:t,name:n}=e,l=a.useContext(V);a.useEffect((()=>{const{unRegisterField:t}=l.registerField({props:e});return()=>{t({props:e})}}),[]);return a.cloneElement(t,{value:l.getFieldValue(n),onChange:e=>{const t=e.target.value;console.log("newValue",t),l.setFieldValue({[n]:t})}})}V.Consumer;class ${constructor(){this.getFieldValue=e=>this.store[e],this.setFieldValue=e=>{console.log("setFieldValue",e),this.store=s(s({},this.store),e)},this.registerField=e=>(this.entities.push(e),{unRegisterField:()=>{this.entities=this.entities.filter((t=>t!==e)),delete this.store[e.props.name]}}),this.validate=()=>{let e=[];return this.entities.forEach((t=>{const{name:n,rules:l}=t.props;l.forEach((t=>{t.required&&!this.store[n]&&e.push({[n]:t.msg,value:this.store[n]})}))})),{success:!e.length,errs:e}},this.submit=()=>{const{success:e,errs:t}=this.validate();return console.log("into formStore submit",e,t),new Promise(((n,l)=>{e?n(this.store):l(t)}))},this.store={},this.entities=[]}}function D(){const[e]=[new $],t=d();C({title:"登录"});return a.createElement("div",{className:k},a.createElement("div",{className:U},a.createElement("header",{className:P},"登录"),a.createElement(O,{form:e,onFinish:e=>{console.log("onfinish",e),localStorage.setItem("vite-react-zhihu-user-token",e.userName),console.log("history.length",t.length),t.length>1?t.goBack():t.push("/user/index")},onFinishFailed:e=>{console.log("onFinishFailed",e)}},a.createElement(a.Fragment,null,a.createElement("div",{className:R},a.createElement("div",{className:B},"账号"),a.createElement(Z,{name:"userName",rules:[{required:!0,msg:"用户名不能为空～"}]},a.createElement("input",{type:"text",placeholder:"请输入用户名"}))),a.createElement("div",{className:R},a.createElement("div",{className:B},"密码"),a.createElement(Z,{name:"password",rules:[{required:!0,msg:"密码不能为空～"}]},a.createElement("input",{type:"password",placeholder:"请输入密码"}))),a.createElement("button",{type:"submit",className:H},"登录")))))}var Y=()=>{const[e,t]=a.useState(E[0]);return a.createElement(_,{value:{value:e,setTheme:e=>{t(e),document.documentElement.style.setProperty("--themeColor",e.hex)}}},a.createElement(h,{basename:""},a.createElement(v,{path:"/",exact:!0,component:M}),a.createElement(v,{path:"/home/index",component:M}),a.createElement(v,{path:"/msg/index",component:I}),a.createElement(v,{path:"/user/index",component:L}),a.createElement(v,{path:"/login/index",component:D})))};m.render(a.createElement(a.StrictMode,null,a.createElement(Y,null)),document.getElementById("root"));
