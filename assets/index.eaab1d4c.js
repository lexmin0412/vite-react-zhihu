import{u as e,r as t,L as c,R as n,B as a,a as m,b as l}from"./vendor.b1c799d4.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(c){const n=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((c,m)=>{const l=new URL(e,n);if(self[t].moduleMap[l])return c(self[t].moduleMap[l]);const s=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){m(new Error(`Failed to import: ${e}`)),a(o)},onload(){c(self[t].moduleMap[l]),a(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");var s="_tabbar-comp_1uomc_1",o="_tabbar-item_1uomc_13",i="_current_1uomc_28";const r=[{url:"/home/index",title:"首页"},{url:"/msg/index",title:"消息"},{url:"/user/index",title:"我的"}];function d(){const n=e();return t.createElement("div",{className:s},r.map((e=>{const a=n.pathname===e.url;return t.createElement(c,{className:`${o} ${a?i:""}`,to:e.url,key:e.url},e.title)})))}const u=e=>{const{url:t}=e;return new Promise(((e,c)=>{fetch(t).then((function(e){return e.json()})).then((function(t){"10000"!==t.code?(console.log("fetch err",t),c(t)):e(t.data)})).catch((e=>{console.log("fetch err",e),c(e)}))}))};var _=new class{getRecommendList(){return u({url:"https://www.fastmock.site/mock/17ad4659e546df135e2027055aba5443/zhihu/home/getRecommendList"})}};var p={listTitle:"_list-title_1c4a1_1",listTitleText:"_list-title-text_1c4a1_18",listContainer:"_list-container_1c4a1_34",listItem:"_list-item_1c4a1_41",itemTop:"_item-top_1c4a1_47",itemHeadImg:"_item-head-img_1c4a1_52",itemUserInfo:"_item-user-info_1c4a1_58",itemUserName:"_item-user-name_1c4a1_62",itemUpdateTime:"_item-update-time_1c4a1_66",title:"_title_1c4a1_71",content:"_content_1c4a1_78",desc:"_desc_1c4a1_85",mainPic:"_main-pic_1c4a1_89",flex:"_flex_1c4a1_96",fill:"_fill_1c4a1_102"};const E=e=>{const[c,n]=t.useState([]),[a,m]=t.useState(!1),l=()=>{e().then((e=>{console.log("请求结果",e),console.log("新列表",c.concat(e));const t=c.concat(e);n(t),m(!0)}))};return t.useEffect((()=>{console.log("useEffect"),l()}),[]),window.onscroll=function(){var e,t,c,n;c=0,n=0,document.body&&(c=document.body.scrollTop),document.documentElement&&(n=document.documentElement.scrollTop),(c-n>0?c:n)+("CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)==(e=0,t=0,document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t)&&(document.getElementById("more"),console.log("触底"),l())},[c,a]};function f(){const[e,c]=E(_.getRecommendList);return t.createElement("div",{className:p.homeIndexPage},t.createElement("div",{className:p.listContainer},t.createElement("div",{className:p.listTitle},t.createElement("div",{className:p.listTitleText},"推荐")),c?t.createElement(t.Fragment,null,e.map(((e,c)=>t.createElement("div",{className:p.listItem,key:`${e.id}${c}`},t.createElement("div",{className:p.itemTop},t.createElement("img",{className:p.itemHeadImg,src:e.headimg}),t.createElement("div",{className:p.itemUserInfo},t.createElement("div",{className:p.itemUserName},e.user),t.createElement("div",{className:p.itemUpdateTime},e.timeStamp))),t.createElement("div",{className:p.itemMain},t.createElement("div",{className:p.title},e.title),t.createElement("div",{className:p.content},t.createElement("div",{className:p.desc},e.desc),t.createElement("img",{src:e.mainPic,alt:"",className:p.mainPic}))))))):t.createElement("div",{className:`${p.flex} ${p.fill}`},t.createElement(n,{type:"spokes",color:"#06f",height:40,width:40}))),t.createElement(d,null))}var h={userMain:"_user-main_t37mm_1"};var v=t.createElement(a,{basename:""},t.createElement(m,{path:"/",exact:!0,component:f}),t.createElement(m,{path:"/home/index",component:f}),t.createElement(m,{path:"/msg/index",component:function(){return t.createElement("div",null,"消息",t.createElement(d,null))}}),t.createElement(m,{path:"/user/index",component:function(){return t.useEffect((()=>{u({url:"https://netease-cloud-music-api-orcin.vercel.app/topic/detail?actid=111551188"}).then((e=>{console.log("请求结果",e)}))}),[]),t.createElement("div",{className:h.userIndexPage},t.createElement("div",{className:h.userMain},t.createElement("div",{className:h.userInfo},t.createElement("img",{className:h.userHeadImg}),t.createElement("div",{className:h.userInfoAbbr},t.createElement("div",{className:"userName"},"Lexmin"),t.createElement("div",{className:"userPump"},"打气值")))),t.createElement(d,null))}}));l.render(t.createElement(t.StrictMode,null,v),document.getElementById("root"));
