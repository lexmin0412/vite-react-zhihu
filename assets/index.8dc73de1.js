import{u as e,r as t,L as n,R as m,B as l,a,b as c}from"./vendor.b1c799d4.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const m=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,a)=>{const c=new URL(e,m);if(self[t].moduleMap[c])return n(self[t].moduleMap[c]);const s=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),r=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){a(new Error(`Failed to import: ${e}`)),l(r)},onload(){n(self[t].moduleMap[c]),l(r)}});document.head.appendChild(r)})),self[t].moduleMap={}}}("/assets/");var s="_tabbar-comp_1t7ct_1",r="_tabbar-item_1t7ct_13",i="_current_1t7ct_28";const o=[{url:"/home/index",title:"首页"},{url:"/msg/index",title:"消息"},{url:"/user/index",title:"我的"}];function d(){const m=e();return t.createElement("div",{className:s},o.map((e=>{const l=m.pathname===e.url;return t.createElement(n,{className:`${r} ${l?i:""}`,to:e.url,key:e.url},e.title)})))}var u=new class{getRecommendList(){return(e=>{const{url:t}=e;return new Promise(((e,n)=>{fetch(t).then((function(e){return e.json()})).then((function(t){"10000"!==t.code?(console.log("fetch err",t),n(t)):e(t.data)})).catch((e=>{console.log("fetch err",e),n(e)}))}))})({url:"https://www.fastmock.site/mock/17ad4659e546df135e2027055aba5443/zhihu/home/getRecommendList"})}};var _={listTitle:"_list-title_11nvq_1",listTitleText:"_list-title-text_11nvq_18",listContainer:"_list-container_11nvq_34",listItem:"_list-item_11nvq_41",itemTop:"_item-top_11nvq_47",itemHeadImg:"_item-head-img_11nvq_52",itemUserInfo:"_item-user-info_11nvq_58",itemUserName:"_item-user-name_11nvq_62",itemUpdateTime:"_item-update-time_11nvq_66",title:"_title_11nvq_71",content:"_content_11nvq_78",desc:"_desc_11nvq_85",mainPic:"_main-pic_11nvq_89",flex:"_flex_11nvq_96",fill:"_fill_11nvq_102"};const h=e=>{const[n,m]=t.useState([]),[l,a]=t.useState(!1),c=()=>{e().then((e=>{console.log("请求结果",e),console.log("新列表",n.concat(e));const t=n.concat(e);m(t),a(!0)}))};return t.useEffect((()=>{console.log("useEffect"),c()}),[]),window.onscroll=function(){var e,t,n,m;n=0,m=0,document.body&&(n=document.body.scrollTop),document.documentElement&&(m=document.documentElement.scrollTop),(n-m>0?n:m)+("CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)==(e=0,t=0,document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t)&&(document.getElementById("more"),console.log("触底"),c())},[n,l]},v=[{titleZh:"知乎蓝",hex:"#06f"},{titleZh:"美团黄",hex:"#FFC300"},{titleZh:"网易红",hex:"#C20C0E"},{titleZh:"京东到家绿",hex:"#25c156"}],E=t.createContext({value:v[0],setTheme:e=>{}}),g=E.Provider;function p(){const[e,n]=h(u.getRecommendList),{value:l}=t.useContext(E);return t.createElement("div",{className:_.homeIndexPage},t.createElement("div",{className:_.listContainer},t.createElement("div",{className:_.listTitle},t.createElement("div",{className:_.listTitleText},"推荐")),n?t.createElement(t.Fragment,null,e.map(((e,n)=>t.createElement("div",{className:_.listItem,key:`${e.id}${n}`},t.createElement("div",{className:_.itemTop},t.createElement("img",{className:_.itemHeadImg,src:e.headimg}),t.createElement("div",{className:_.itemUserInfo},t.createElement("div",{className:_.itemUserName},e.user),t.createElement("div",{className:_.itemUpdateTime},e.timeStamp))),t.createElement("div",{className:_.itemMain},t.createElement("div",{className:_.title},e.title),t.createElement("div",{className:_.content},t.createElement("div",{className:_.desc},e.desc),t.createElement("img",{src:e.mainPic,alt:"",className:_.mainPic}))))))):t.createElement("div",{className:`${_.flex} ${_.fill}`},t.createElement(m,{type:"spokes",color:l.hex,height:40,width:40}))),t.createElement(d,null))}function f(){return t.createElement("div",null,"消息",t.createElement(d,null))}E.Consumer;var N={userMain:"_user-main_7rgdt_1",userInfo:"_user-info_7rgdt_8",userName:"_user-name_7rgdt_12",themeSetting:"_theme-setting_7rgdt_18",themeSettingTitle:"_theme-setting-title_7rgdt_22",currentTheme:"_current-theme_7rgdt_30",themeList:"_theme-list_7rgdt_34",themeSettingItem:"_theme-setting-item_7rgdt_38"};function x(){const{value:e,setTheme:n}=t.useContext(E);console.log("当前主题",e.titleZh);return t.createElement("div",{className:N.userIndexPage},t.createElement("div",{className:N.userMain},t.createElement("div",{className:N.userInfo},t.createElement("img",{className:N.userHeadImg}),t.createElement("div",{className:N.userInfoAbbr},t.createElement("div",{className:N.userName},"Lexmin"))),t.createElement("div",{className:N.themeSetting},t.createElement("div",{className:N.themeSettingTitle},"当前主题：",t.createElement("div",{className:N.currentTheme},e.titleZh)),t.createElement("div",{className:N.themeList},v.map((e=>t.createElement("div",{className:N.themeSettingItem,key:e.hex,style:{background:e.hex},onClick:()=>(e=>{console.log("toggleTheme",e),n(e)})(e)},e.titleZh)))))),t.createElement(d,null))}var b=()=>{const[e,n]=t.useState(v[0]);return t.createElement(g,{value:{value:e,setTheme:e=>{n(e),document.documentElement.style.setProperty("--themeColor",e.hex)}}},t.createElement(l,{basename:""},t.createElement(a,{path:"/",exact:!0,component:p}),t.createElement(a,{path:"/home/index",component:p}),t.createElement(a,{path:"/msg/index",component:f}),t.createElement(a,{path:"/user/index",component:x})))};c.render(t.createElement(t.StrictMode,null,t.createElement(b,null)),document.getElementById("root"));
