import{u as e,r as t,L as a,R as c,B as n,a as m,b as l}from"./vendor.b1c799d4.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const c=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,m)=>{const l=new URL(e,c);if(self[t].moduleMap[l])return a(self[t].moduleMap[l]);const s=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){m(new Error(`Failed to import: ${e}`)),n(o)},onload(){a(self[t].moduleMap[l]),n(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/vite-react-zhihu/assets/");var s="_tabbar-comp_1uomc_1",o="_tabbar-item_1uomc_13",i="_current_1uomc_28";const r=[{url:"/home/index",title:"首页"},{url:"/msg/index",title:"消息"},{url:"/user/index",title:"我的"}];function d(){const c=e();return t.createElement("div",{className:s},r.map((e=>{const n=c.pathname===e.url;return t.createElement(a,{className:`${o} ${n?i:""}`,to:e.url,key:e.url},e.title)})))}const u=e=>{const{url:t}=e;return new Promise(((e,a)=>{fetch(t).then((function(e){return e.json()})).then((function(t){"10000"!==t.code?(console.log("fetch err",t),a(t)):e(t.data)})).catch((e=>{console.log("fetch err",e),a(e)}))}))};var _=new class{getRecommendList(){return u({url:"https://www.fastmock.site/mock/17ad4659e546df135e2027055aba5443/zhihu/home/getRecommendList"})}};var E={listTitle:"_list-title_1c4a1_1",listTitleText:"_list-title-text_1c4a1_18",listContainer:"_list-container_1c4a1_34",listItem:"_list-item_1c4a1_41",itemTop:"_item-top_1c4a1_47",itemHeadImg:"_item-head-img_1c4a1_52",itemUserInfo:"_item-user-info_1c4a1_58",itemUserName:"_item-user-name_1c4a1_62",itemUpdateTime:"_item-update-time_1c4a1_66",title:"_title_1c4a1_71",content:"_content_1c4a1_78",desc:"_desc_1c4a1_85",mainPic:"_main-pic_1c4a1_89",flex:"_flex_1c4a1_96",fill:"_fill_1c4a1_102"};const p=e=>{const[a,c]=t.useState([]),[n,m]=t.useState(!1),l=()=>{e().then((e=>{console.log("请求结果",e),console.log("新列表",a.concat(e));const t=a.concat(e);c(t),m(!0)}))};return t.useEffect((()=>{console.log("useEffect"),l()}),[]),window.onscroll=function(){var e,t,a,c;a=0,c=0,document.body&&(a=document.body.scrollTop),document.documentElement&&(c=document.documentElement.scrollTop),(a-c>0?a:c)+("CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)==(e=0,t=0,document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t)&&(document.getElementById("more"),console.log("触底"),l())},[a,n]};function f(){const[e,a]=p(_.getRecommendList);return t.createElement("div",{className:E.homeIndexPage},t.createElement("div",{className:E.listContainer},t.createElement("div",{className:E.listTitle},t.createElement("div",{className:E.listTitleText},"推荐")),a?t.createElement(t.Fragment,null,e.map(((e,a)=>t.createElement("div",{className:E.listItem,key:`${e.id}${a}`},t.createElement("div",{className:E.itemTop},t.createElement("img",{className:E.itemHeadImg,src:e.headimg}),t.createElement("div",{className:E.itemUserInfo},t.createElement("div",{className:E.itemUserName},e.user),t.createElement("div",{className:E.itemUpdateTime},e.timeStamp))),t.createElement("div",{className:E.itemMain},t.createElement("div",{className:E.title},e.title),t.createElement("div",{className:E.content},t.createElement("div",{className:E.desc},e.desc),t.createElement("img",{src:e.mainPic,alt:"",className:E.mainPic}))))))):t.createElement("div",{className:`${E.flex} ${E.fill}`},t.createElement(c,{type:"spokes",color:"#06f",height:40,width:40}))),t.createElement(d,null))}var h={userMain:"_user-main_t37mm_1"};var v=t.createElement(n,{basename:"vite-react-zhihu"},t.createElement(m,{path:"/",exact:!0,component:f}),t.createElement(m,{path:"/home/index",component:f}),t.createElement(m,{path:"/msg/index",component:function(){return t.createElement("div",null,"消息",t.createElement(d,null))}}),t.createElement(m,{path:"/user/index",component:function(){return t.useEffect((()=>{u({url:`${{}.VITE_NETEASE_API}/topic/detail?actid=111551188`}).then((e=>{console.log("请求结果",e)}))}),[]),t.createElement("div",{className:h.userIndexPage},t.createElement("div",{className:h.userMain},t.createElement("div",{className:h.userInfo},t.createElement("img",{className:h.userHeadImg}),t.createElement("div",{className:h.userInfoAbbr},t.createElement("div",{className:"userName"},"Lexmin"),t.createElement("div",{className:"userPump"},"打气值")))),t.createElement(d,null))}}));l.render(t.createElement(t.StrictMode,null,v),document.getElementById("root"));
