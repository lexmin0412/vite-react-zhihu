import{u as e,r as t,L as n,R as c,B as a,a as m,b as l}from"./vendor.b1c799d4.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const c=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,m)=>{const l=new URL(e,c);if(self[t].moduleMap[l])return n(self[t].moduleMap[l]);const o=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){m(new Error(`Failed to import: ${e}`)),a(i)},onload(){n(self[t].moduleMap[l]),a(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/vite-react-zhihu/assets/");var o="_tabbar-comp_1uomc_1",i="_tabbar-item_1uomc_13",s="_current_1uomc_28";const r=[{url:"/home/index",title:"首页"},{url:"/msg/index",title:"消息"},{url:"/user/index",title:"我的"}];function d(){const c=e();return t.createElement("div",{className:o},r.map((e=>{const a=c.pathname===e.url;return t.createElement(n,{className:`${i} ${a?s:""}`,to:e.url,key:e.url},e.title)})))}var u=new class{getRecommendList(){return(e=>{const{url:t}=e;return new Promise(((e,n)=>{fetch(t).then((function(e){return e.json()})).then((function(t){"10000"!==t.code?(console.log("fetch err",t),n(t)):e(t.data)})).catch((e=>{console.log("fetch err",e),n(e)}))}))})({url:"https://www.fastmock.site/mock/17ad4659e546df135e2027055aba5443/zhihu/home/getRecommendList"})}};var _={listTitle:"_list-title_1c4a1_1",listTitleText:"_list-title-text_1c4a1_18",listContainer:"_list-container_1c4a1_34",listItem:"_list-item_1c4a1_41",itemTop:"_item-top_1c4a1_47",itemHeadImg:"_item-head-img_1c4a1_52",itemUserInfo:"_item-user-info_1c4a1_58",itemUserName:"_item-user-name_1c4a1_62",itemUpdateTime:"_item-update-time_1c4a1_66",title:"_title_1c4a1_71",content:"_content_1c4a1_78",desc:"_desc_1c4a1_85",mainPic:"_main-pic_1c4a1_89",flex:"_flex_1c4a1_96",fill:"_fill_1c4a1_102"};const p=e=>{const[n,c]=t.useState([]),[a,m]=t.useState(!1),l=()=>{e().then((e=>{console.log("请求结果",e),console.log("新列表",n.concat(e));const t=n.concat(e);c(t),m(!0)}))};return t.useEffect((()=>{console.log("useEffect"),l()}),[]),window.onscroll=function(){var e,t,n,c;n=0,c=0,document.body&&(n=document.body.scrollTop),document.documentElement&&(c=document.documentElement.scrollTop),(n-c>0?n:c)+("CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)==(e=0,t=0,document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t)&&(document.getElementById("more"),console.log("触底"),l())},[n,a]};function E(){const[e,n]=p(u.getRecommendList);return t.createElement("div",{className:_.homeIndexPage},t.createElement("div",{className:_.listContainer},t.createElement("div",{className:_.listTitle},t.createElement("div",{className:_.listTitleText},"推荐")),n?t.createElement(t.Fragment,null,e.map(((e,n)=>t.createElement("div",{className:_.listItem,key:`${e.id}${n}`},t.createElement("div",{className:_.itemTop},t.createElement("img",{className:_.itemHeadImg,src:e.headimg}),t.createElement("div",{className:_.itemUserInfo},t.createElement("div",{className:_.itemUserName},e.user),t.createElement("div",{className:_.itemUpdateTime},e.timeStamp))),t.createElement("div",{className:_.itemMain},t.createElement("div",{className:_.title},e.title),t.createElement("div",{className:_.content},t.createElement("div",{className:_.desc},e.desc),t.createElement("img",{src:e.mainPic,alt:"",className:_.mainPic}))))))):t.createElement("div",{className:`${_.flex} ${_.fill}`},t.createElement(c,{type:"spokes",color:"#06f",height:40,width:40}))),t.createElement(d,null))}var f=t.createElement(a,{basename:"vite-react-zhihu"},t.createElement(m,{path:"/",exact:!0,component:E}),t.createElement(m,{path:"/home/index",component:E}),t.createElement(m,{path:"/msg/index",component:function(){return t.createElement("div",null,"消息",t.createElement(d,null))}}),t.createElement(m,{path:"/user/index",component:function(){return t.createElement("div",null,"我的",t.createElement(d,null))}}));l.render(t.createElement(t.StrictMode,null,f),document.getElementById("root"));
