import{u as e,r as t,L as n,R as l,a as m,d as a,B as c,b as r}from"./vendor.509f7a16.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const l=new URL(e,location),m=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,a)=>{const c=new URL(e,l);if(self[t].moduleMap[c])return n(self[t].moduleMap[c]);const r=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){a(new Error(`Failed to import: ${e}`)),m(o)},onload(){n(self[t].moduleMap[c]),m(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");var o="_tabbar-comp_1t7ct_1",s="_tabbar-item_1t7ct_13",i="_current_1t7ct_28";const d=[{url:"/home/index",title:"首页"},{url:"/msg/index",title:"消息"},{url:"/user/index",title:"我的"}];function u(){const l=e();return t.createElement("div",{className:o},d.map((e=>{const m=l.pathname===e.url;return t.createElement(n,{className:`${s} ${m?i:""}`,to:e.url,key:e.url},e.title)})))}var h=new class{getRecommendList(){return(e=>{const{url:t,method:n,body:l}=e;return new Promise(((e,m)=>{fetch(t,{method:n,body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){"10000"!==t.code?(console.log("fetch err",t),m(t)):e(t.data)})).catch((e=>{console.log("fetch err",e),m(e)}))}))})({url:"https://www.fastmock.site/mock/17ad4659e546df135e2027055aba5443/zhihu/home/getRecommendList",method:"post",body:{theme:"#ffe400"}})}};var _={listTitle:"_list-title_11nvq_1",listTitleText:"_list-title-text_11nvq_18",listContainer:"_list-container_11nvq_34",listItem:"_list-item_11nvq_41",itemTop:"_item-top_11nvq_47",itemHeadImg:"_item-head-img_11nvq_52",itemUserInfo:"_item-user-info_11nvq_58",itemUserName:"_item-user-name_11nvq_62",itemUpdateTime:"_item-update-time_11nvq_66",title:"_title_11nvq_71",content:"_content_11nvq_78",desc:"_desc_11nvq_85",mainPic:"_main-pic_11nvq_89",flex:"_flex_11nvq_96",fill:"_fill_11nvq_102"};const E=e=>{const[n,l]=t.useState([]),[m,a]=t.useState(!1),c=()=>{e().then((e=>{console.log("请求结果",e),console.log("新列表",n.concat(e));const t=n.concat(e);l(t),a(!0)}))};return t.useEffect((()=>{console.log("useEffect"),c()}),[]),window.onscroll=function(){var e,t,n,l;n=0,l=0,document.body&&(n=document.body.scrollTop),document.documentElement&&(l=document.documentElement.scrollTop),(n-l>0?n:l)+("CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)==(e=0,t=0,document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t)&&(document.getElementById("more"),console.log("触底"),c())},[n,m]},f=[{titleZh:"知乎蓝",hex:"#06f"},{titleZh:"掘金蓝",hex:"#007fff"},{titleZh:"美团黄",hex:"#FFC300"},{titleZh:"网易红",hex:"#C20C0E"},{titleZh:"京东到家绿",hex:"#25c156"},{titleZh:"微信绿",hex:"#0FBE5D"},{titleZh:"思否绿",hex:"#009a61"}],v=t.createContext({value:f[0],setTheme:e=>{}}),p=v.Provider;function g(){const[e,n]=E(h.getRecommendList),{value:m}=t.useContext(v);return t.createElement("div",{className:_.homeIndexPage},t.createElement("div",{className:_.listContainer},t.createElement("div",{className:_.listTitle},t.createElement("div",{className:_.listTitleText},"推荐")),n?t.createElement(t.Fragment,null,e.map(((e,n)=>t.createElement("div",{className:_.listItem,key:`${e.id}${n}`},t.createElement("div",{className:_.itemTop},t.createElement("img",{className:_.itemHeadImg,src:e.headimg}),t.createElement("div",{className:_.itemUserInfo},t.createElement("div",{className:_.itemUserName},e.user),t.createElement("div",{className:_.itemUpdateTime},e.timeStamp))),t.createElement("div",{className:_.itemMain},t.createElement("div",{className:_.title},e.title),t.createElement("div",{className:_.content},t.createElement("div",{className:_.desc},e.desc),t.createElement("img",{src:e.mainPic,alt:"",className:_.mainPic}))))))):t.createElement("div",{className:`${_.flex} ${_.fill}`},t.createElement(l,{type:"spokes",color:m.hex,height:40,width:40}))),t.createElement(u,null))}function N(){return t.createElement("div",null,"消息",t.createElement(u,null))}v.Consumer;var x={userMain:"_user-main_15bru_1",userInfo:"_user-info_15bru_8",userName:"_user-name_15bru_12",themeSetting:"_theme-setting_15bru_18",themeSettingTitle:"_theme-setting-title_15bru_22",currentTheme:"_current-theme_15bru_30",themeList:"_theme-list_15bru_35",themeSettingItem:"_theme-setting-item_15bru_39"},b=()=>t.createElement("svg",{t:"1617743948751",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2044",width:"16",height:"16"},t.createElement("path",{d:"M127.431111 455.111111a40.96 40.96 0 0 0 0 36.408889A427.235556 427.235556 0 0 0 493.226667 739.555556L158.72 404.48a444.302222 444.302222 0 0 0-31.288889 50.631111zM893.724444 449.422222C853.333333 384 732.728889 208.782222 512 208.782222a401.066667 401.066667 0 0 0-223.573333 66.56L207.644444 194.56 143.36 258.844444l74.524444 74.524445 100.693334 102.4 233.244444 231.537778 60.871111 61.44 101.262223 101.262222 64.284444-64.284445-72.248889-72.248888a455.111111 455.111111 0 0 0 189.44-193.422223 52.337778 52.337778 0 0 0-1.706667-50.631111zM638.293333 625.777778l-64.853333-65.422222a105.813333 105.813333 0 1 0-147.911111-147.911112L360.675556 347.591111A197.404444 197.404444 0 1 1 638.293333 625.777778z","p-id":"2045",fill:"#ffffff"}));const y=t.memo((e=>{const{children:n,onClose:l}=e,a=t.useRef(document.createElement("div"));return t.useEffect((()=>(a.current.classList.add("notify-portal-container"),document.documentElement.appendChild(a.current),()=>{document.documentElement.removeChild(a.current)})),[e.children]),m.createPortal(t.createElement(t.Fragment,null,t.createElement("div",{className:"notify-portal-content"},e.children),t.createElement("div",{className:"notify-portal-close",onClick:()=>{l&&l()}},t.createElement(b,null))),a.current)}));function w(){const{value:e,setTheme:n}=t.useContext(v);console.log("当前主题",e.titleZh);const{show:l,RenderNotification:m}=(()=>{const[e,n]=t.useState(!1),l=()=>n(!1);return{show:()=>n(!0),hide:l,RenderNotification:({children:n})=>e?t.createElement(y,{onClose:l},n):null}})();t.useEffect((()=>{l()}),[]);const c=a().format("YYYY年MM月DD日");return t.createElement("div",{className:x.userIndexPage},t.createElement(m,null,t.createElement(t.Fragment,null,"今天是",c,", 祝大家牛年大吉啦")),t.createElement("div",{className:x.userMain},t.createElement("div",{className:x.userInfo},t.createElement("img",{className:x.userHeadImg}),t.createElement("div",{className:x.userInfoAbbr},t.createElement("div",{className:x.userName},"Lexmin"))),t.createElement("div",{className:x.themeSetting},t.createElement("div",{className:x.themeSettingTitle},"当前主题：",t.createElement("div",{className:x.currentTheme},e.titleZh)),t.createElement("div",{className:x.themeList},f.map((e=>t.createElement("div",{className:x.themeSettingItem,key:e.hex,style:{background:e.hex},onClick:()=>(e=>{n(e),console.log("切换主题",e)})(e)},e.titleZh)))))),t.createElement(u,null))}var C=()=>{const[e,n]=t.useState(f[0]);return t.createElement(p,{value:{value:e,setTheme:e=>{n(e),document.documentElement.style.setProperty("--themeColor",e.hex)}}},t.createElement(c,{basename:""},t.createElement(r,{path:"/",exact:!0,component:g}),t.createElement(r,{path:"/home/index",component:g}),t.createElement(r,{path:"/msg/index",component:N}),t.createElement(r,{path:"/user/index",component:w})))};m.render(t.createElement(t.StrictMode,null,t.createElement(C,null)),document.getElementById("root"));
