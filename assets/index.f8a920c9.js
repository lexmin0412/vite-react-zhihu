import{u as e,r as t,L as n,R as a,B as c,a as m,b as l}from"./vendor.b1c799d4.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const a=new URL(e,location),c=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,m)=>{const l=new URL(e,a);if(self[t].moduleMap[l])return n(self[t].moduleMap[l]);const o=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){m(new Error(`Failed to import: ${e}`)),c(s)},onload(){n(self[t].moduleMap[l]),c(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("/assets/");var o="_tabbar-comp_1uomc_1",s="_tabbar-item_1uomc_13",r="_current_1uomc_28";const i=[{url:"/home/index",title:"首页"},{url:"/msg/index",title:"消息"},{url:"/user/index",title:"我的"}];function d(){const a=e();return t.createElement("div",{className:o},i.map((e=>{const c=a.pathname===e.url;return t.createElement(n,{className:`${s} ${c?r:""}`,to:e.url,key:e.url},e.title)})))}var u=new class{getRecommendList(){return(e=>{const{url:t}=e;return new Promise(((e,n)=>{fetch(t).then((function(e){return e.json()})).then((function(t){"10000"!==t.code?(console.log("fetch err",t),n(t)):e(t.data)})).catch((e=>{console.log("fetch err",e),n(e)}))}))})({url:"https://www.fastmock.site/mock/17ad4659e546df135e2027055aba5443/zhihu/home/getRecommendList"})}};var _={listTitle:"_list-title_1c4a1_1",listTitleText:"_list-title-text_1c4a1_18",listContainer:"_list-container_1c4a1_34",listItem:"_list-item_1c4a1_41",itemTop:"_item-top_1c4a1_47",itemHeadImg:"_item-head-img_1c4a1_52",itemUserInfo:"_item-user-info_1c4a1_58",itemUserName:"_item-user-name_1c4a1_62",itemUpdateTime:"_item-update-time_1c4a1_66",title:"_title_1c4a1_71",content:"_content_1c4a1_78",desc:"_desc_1c4a1_85",mainPic:"_main-pic_1c4a1_89",flex:"_flex_1c4a1_96",fill:"_fill_1c4a1_102"};const E=e=>{const[n,a]=t.useState([]),[c,m]=t.useState(!1),l=()=>{e().then((e=>{console.log("请求结果",e),console.log("新列表",n.concat(e));const t=n.concat(e);a(t),m(!0)}))};return t.useEffect((()=>{console.log("useEffect"),l()}),[]),window.onscroll=function(){var e,t,n,a;n=0,a=0,document.body&&(n=document.body.scrollTop),document.documentElement&&(a=document.documentElement.scrollTop),(n-a>0?n:a)+("CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)==(e=0,t=0,document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t)&&(document.getElementById("more"),console.log("触底"),l())},[n,c]};function p(){const[e,n]=E(u.getRecommendList);return t.createElement("div",{className:_.homeIndexPage},t.createElement("div",{className:_.listContainer},t.createElement("div",{className:_.listTitle},t.createElement("div",{className:_.listTitleText},"推荐")),n?t.createElement(t.Fragment,null,e.map(((e,n)=>t.createElement("div",{className:_.listItem,key:`${e.id}${n}`},t.createElement("div",{className:_.itemTop},t.createElement("img",{className:_.itemHeadImg,src:e.headimg}),t.createElement("div",{className:_.itemUserInfo},t.createElement("div",{className:_.itemUserName},e.user),t.createElement("div",{className:_.itemUpdateTime},e.timeStamp))),t.createElement("div",{className:_.itemMain},t.createElement("div",{className:_.title},e.title),t.createElement("div",{className:_.content},t.createElement("div",{className:_.desc},e.desc),t.createElement("img",{src:e.mainPic,alt:"",className:_.mainPic}))))))):t.createElement("div",{className:`${_.flex} ${_.fill}`},t.createElement(a,{type:"spokes",color:"#06f",height:40,width:40}))),t.createElement(d,null))}var f={userMain:"_user-main_t37mm_1"};var h=t.createElement(c,{basename:""},t.createElement(m,{path:"/",exact:!0,component:p}),t.createElement(m,{path:"/home/index",component:p}),t.createElement(m,{path:"/msg/index",component:function(){return t.createElement("div",null,"消息",t.createElement(d,null))}}),t.createElement(m,{path:"/user/index",component:function(){return t.createElement("div",{className:f.userIndexPage},t.createElement("div",{className:f.userMain},t.createElement("div",{className:f.userInfo},t.createElement("img",{className:f.userHeadImg}),t.createElement("div",{className:f.userInfoAbbr},t.createElement("div",{className:"userName"},"Lexmin")))),t.createElement(d,null))}}));l.render(t.createElement(t.StrictMode,null,h),document.getElementById("root"));
